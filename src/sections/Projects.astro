---
import { projects } from '../data/portfolio'

// biome-ignore lint/correctness/noUnusedVariables: Used in JSX template expressions
const colorMap = {
  blue: 'border-blue-500 hover:border-cyan-400 hover:shadow-blue-500/50',
  purple: 'border-purple-500 hover:border-pink-400 hover:shadow-purple-500/50',
  pink: 'border-pink-500 hover:border-cyan-400 hover:shadow-pink-500/50',
  green: 'border-green-500 hover:border-cyan-400 hover:shadow-green-500/50',
  emerald: 'border-green-500 hover:border-cyan-400 hover:shadow-green-500/50',
  orange: 'border-orange-500 hover:border-cyan-400 hover:shadow-orange-500/50',
}

// biome-ignore lint/correctness/noUnusedVariables: Used in JSX template expressions
const bgMap = {
  blue: 'bg-blue-950',
  purple: 'bg-slate-900',
  pink: 'bg-purple-950',
  green: 'bg-slate-950',
  emerald: 'bg-emerald-950',
  orange: 'bg-orange-950',
}

// biome-ignore lint/correctness/noUnusedVariables: Used in JSX template expressions
const accentMap = {
  blue: 'border-cyan-400 text-cyan-400',
  purple: 'border-purple-400 text-purple-400',
  pink: 'border-pink-400 text-pink-400',
  green: 'border-green-400 text-green-400',
  emerald: 'border-green-400 text-green-400',
  orange: 'border-orange-400 text-orange-400',
}

// biome-ignore lint/correctness/noUnusedVariables: Used in JSX template expressions
const btnMap = {
  blue: 'bg-cyan-400 hover:bg-cyan-300 text-slate-900 border-cyan-600',
  purple: 'bg-purple-500 hover:bg-purple-400 text-white border-purple-700',
  pink: 'bg-pink-500 hover:bg-pink-400 text-white border-pink-700',
  green: 'bg-green-500 hover:bg-green-400 text-slate-950 border-green-700',
  emerald: 'bg-green-500 hover:bg-green-400 text-slate-950 border-green-700',
  orange: 'bg-orange-500 hover:bg-orange-400 text-white border-orange-700',
}
---

<section
  id="projects"
  class="min-h-screen bg-linear-to-br from-blue-950 via-slate-950 to-blue-950 py-20 px-4 flex items-center justify-center relative"
>
  <!-- Pixel grid background -->
  <div class="absolute inset-0 pixel-grid opacity-20"></div>

  <div class="max-w-6xl w-full">
    <!-- Notebook with spiral on top -->
    <div
      class="bg-linear-to-br from-white to-blue-50 relative notebook-shadow rounded-2xl border-3 md:border-4 border-blue-500"
    >
      <!-- Spiral rings at top -->
      <div class="notebook-holes-top bg-blue-900 border-b border-blue-700">
        {[...Array(10)].map(() => <div class="spiral-ring" />)}
      </div>

      <!-- Content -->
      <div class="p-6 md:p-12 lg:p-16 pt-16 md:pt-20 relative pixel-grid">
        <div class="mb-8 md:mb-12">
          <h2
            class="animate-vertical-bounce text-3xl md:text-4xl lg:text-5xl font-black text-slate-900 mb-2 pixel-font"
            style="letter-spacing: 0.05em;"
          >
            PROJECT_LOG
          </h2>
          <p
            class="mono-font text-blue-700 text-xs md:text-sm font-bold animate-slide-in-top"
            style="animation-delay: 100ms;"
          >
            {'>'} v2.0 - collection_final
          </p>
          <div
            class="w-full md:w-96 h-1 bg-linear-to-r from-blue-500 via-cyan-400 to-transparent mt-3 shadow-sm animate-fade-in"
            style="animation-delay: 200ms;"
          >
          </div>
        </div>

        <!-- Filter Tabs - Gaming Style -->
        <div
          class="flex flex-wrap gap-2 md:gap-3 mb-8 md:mb-12 animate-fade-in"
          style="animation-delay: 300ms;"
        >
          <button class="pixel-button text-[10px] md:text-xs" style="padding: 6px 12px;">
            ALL
          </button>
          <button
            class="pixel-button text-[10px] md:text-xs"
            style="padding: 6px 12px; background: #f8fafc; color: #3b82f6; border-color: #3b82f6;"
          >
            WEB
          </button>
          <button
            class="pixel-button text-[10px] md:text-xs"
            style="padding: 6px 12px; background: #f8fafc; color: #3b82f6; border-color: #3b82f6;"
          >
            MOBILE
          </button>
          <button
            class="pixel-button text-[10px] md:text-xs"
            style="padding: 6px 12px; background: #f8fafc; color: #3b82f6; border-color: #3b82f6;"
          >
            EXP
          </button>
        </div>

        <!-- Projects Grid - Pixel Art Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
          {
            projects.map((project, index) => (
              <div
                class={`border-2 md:border-3 transition-all group relative overflow-hidden hover:scale-105 hover:shadow-2xl pixel-border animate-pulsing ${bgMap[project.color as keyof typeof bgMap]} ${colorMap[project.color as keyof typeof colorMap]}`}
                style={`animation-duration: 2000ms; animation-delay: ${index * 200}ms; animation-iteration-count: infinite;`}
              >
                {project.featured && (
                  <div class="absolute top-3 left-3 md:top-4 md:left-4 level-badge z-10 px-2 py-1 text-[8px] animate-pulse">
                    FEATURED
                  </div>
                )}
                {project.status && (
                  <div
                    class="absolute top-3 left-3 md:top-4 md:left-4 z-10 px-2 py-1 text-[8px] pixel-font"
                    style="background: #ef4444; border: 2px solid #7f1d1d; color: white; text-shadow: 1px 1px 0 #7f1d1d;"
                  >
                    {project.status}
                  </div>
                )}

                {project.type === 'terminal' ? (
                  <div
                    class={`border-b-2 md:border-b-3 p-2 md:p-3 flex items-center gap-2 ${accentMap[project.color as keyof typeof accentMap].split(' ')[0]}`}
                  >
                    <div class="w-2 h-2 md:w-3 md:h-3 bg-red-500 border border-red-700" />
                    <div class="w-2 h-2 md:w-3 md:h-3 bg-yellow-500 border border-yellow-700" />
                    <div class="w-2 h-2 md:w-3 md:h-3 bg-green-500 border border-green-700" />
                    <span
                      class={`mono-font text-[10px] md:text-xs ml-2 ${accentMap[project.color as keyof typeof accentMap].split(' ')[1]}`}
                    >
                      {'>'} {project.title}
                    </span>
                  </div>
                ) : (
                  <div
                    class={`w-full h-40 md:h-48 flex items-center justify-center text-5xl md:text-6xl relative overflow-hidden bg-linear-to-br from-blue-600 to-purple-700`}
                  >
                    <div class="absolute inset-0 pixel-grid opacity-30" />
                    <span class="relative z-10">
                      {project.icon === 'üíª' ? (
                        'üíª'
                      ) : project.icon === 'dashboard' ? (
                        <div class="w-12 h-12 md:w-16 md:h-16 bg-pink-400 border-2 md:border-3 border-purple-900" />
                      ) : project.icon === 'glitch' ? (
                        <div class="grid grid-cols-3 gap-1 md:gap-2">
                          <div class="w-6 h-6 md:w-8 md:h-8 bg-pink-500 border-2 border-purple-900" />
                          <div class="w-6 h-6 md:w-8 md:h-8 bg-cyan-500 border-2 border-purple-900" />
                          <div class="w-6 h-6 md:w-8 md:h-8 bg-purple-500 border-2 border-purple-900" />
                        </div>
                      ) : project.icon === 'forest' ? (
                        <div class="grid grid-cols-4 gap-1">
                          <div class="w-5 h-10 md:w-6 md:h-12 bg-green-700 border-2 border-green-900" />
                          <div class="w-5 h-12 md:w-6 md:h-16 bg-green-600 border-2 border-green-900" />
                          <div class="w-5 h-11 md:w-6 md:h-14 bg-green-700 border-2 border-green-900" />
                          <div class="w-5 h-8 md:w-6 md:h-10 bg-green-800 border-2 border-green-900" />
                        </div>
                      ) : project.icon === 'physics' ? (
                        <div class="w-16 h-16 md:w-20 md:h-20 bg-orange-400 border-2 md:border-3 border-orange-900 flex items-center justify-center">
                          <div class="w-6 h-6 md:w-8 md:h-8 bg-red-600 border-2 border-red-900 animate-pulse" />
                        </div>
                      ) : (
                        'üöÄ'
                      )}
                    </span>
                  </div>
                )}

                <div
                  class={`p-4 md:p-6 border-t-2 md:border-t-3 relative ${accentMap[project.color as keyof typeof accentMap].split(' ')[0]} ${bgMap[project.color as keyof typeof bgMap]}`}
                >
                  {project.type !== 'terminal' && (
                    <h3
                      class={`mono-font font-bold text-lg mb-2 ${accentMap[project.color as keyof typeof accentMap].split(' ')[1]}`}
                    >
                      {'>'} {project.title}
                    </h3>
                  )}

                  {project.type === 'terminal' ? (
                    <div class="bg-black border-2 border-green-600 p-4 mb-4 font-mono text-xs text-green-400 min-h-32">
                      <div class="mb-1">{'>'} npm install my-portfolio</div>
                      <div class="mb-1">{'>'} A portfolio designed for terminal enthusiasts.</div>
                      <div class="mb-1">{'>'} Built with Ink and React.</div>
                      <div class="mb-1 text-green-500">{'>'} Compiled successfully!</div>
                      <div class="flex items-center gap-1">
                        <span>{'>'}</span>
                        <span class="animate-pulse">_</span>
                      </div>
                    </div>
                  ) : (
                    <p class="text-blue-200 text-sm mb-4 mono-font">{project.description}</p>
                  )}

                  <div class="flex flex-wrap gap-2 mb-4">
                    {project.tags.map(tag => (
                      <span
                        class={`px-2 py-1 mono-font text-xs border-2 font-bold bg-blue-900/50 ${accentMap[project.color as keyof typeof accentMap]}`}
                      >
                        {tag}
                      </span>
                    ))}
                  </div>

                  <div class="flex gap-2">
                    {project.liveDemo && (
                      <button
                        class={`flex-1 py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold px-2 ${btnMap[project.color as keyof typeof btnMap]}`}
                      >
                        LIVE DEMO
                      </button>
                    )}
                    {project.code && (
                      <button
                        class={`px-4 py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold bg-blue-900 text-cyan-400 border-blue-700 hover:bg-blue-800`}
                      >
                        CODE
                      </button>
                    )}
                    {project.caseStudy && (
                      <button
                        class={`flex-1 py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold px-2 ${btnMap[project.color as keyof typeof btnMap]}`}
                      >
                        CASE STUDY
                      </button>
                    )}
                    {project.preview && (
                      <button class="px-4 py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold bg-slate-800 text-purple-400 border-slate-700 hover:bg-slate-700">
                        PREVIEW
                      </button>
                    )}
                    {project.link && (
                      <button
                        class={`w-full py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold ${btnMap[project.color as keyof typeof btnMap]}`}
                      >
                        TRY IT OUT
                      </button>
                    )}
                    {project.github && (
                      <button
                        class={`w-full py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold ${btnMap[project.color as keyof typeof btnMap]}`}
                      >
                        GITHUB
                      </button>
                    )}
                    {project.demo && (
                      <button
                        class={`w-full py-2 pixel-font text-[8px] transition border-2 md:border-3 font-bold ${btnMap[project.color as keyof typeof btnMap]}`}
                      >
                        DEMO
                      </button>
                    )}
                  </div>
                </div>
              </div>
            ))
          }
        </div>

        <!-- Pagination -->
        <div
          class="flex justify-between items-center mt-12 pt-8 border-t border-slate-200 animate-fade-in"
          style="animation-delay: 1s;"
        >
          <button
            class="text-slate-400 mono-font text-sm font-bold hover:text-slate-600 transition"
          >
            ‚Üê Prev
          </button>
          <span class="mono-font text-slate-500 text-sm font-medium">Page 1 of 4</span>
          <button class="text-slate-900 mono-font text-sm font-bold hover:text-blue-600 transition">
            Next Page ‚Üí
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
